(this.webpackJsonpexam=this.webpackJsonpexam||[]).push([[0],{19:function(e,t,a){e.exports=a(39)},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),i=a.n(r),o=a(9),l=a(6),m=a(3);a(24);function u(){return c.a.createElement("div",{className:"hat"},"Mange cities")}a(25);function s(e){var t=e.location,a=e.temperature,n=e.icon,r=t.city,i=t.country;return c.a.createElement("div",{className:"top-element"},c.a.createElement("div",null,c.a.createElement("div",{className:"region"},r),c.a.createElement("div",{className:"city"},i)),c.a.createElement("div",{className:"weather"},c.a.createElement("img",{className:"weather-icon",src:"https://openweathermap.org/img/wn/".concat(n,"@2x.png"),alt:"w"}),c.a.createElement("div",{className:"temperature"},a,"\xb0")))}a(26);function d(e){var t=e.humidity,a=e.windDirection,n=e.windSpeed,r=e.minTemperature,i=e.maxTemperature;return c.a.createElement("div",{className:"bottom-element"},c.a.createElement("div",null,"Humidity ".concat(t,"% | ").concat(a," | ").concat(n," m/s")),c.a.createElement("div",null,"".concat(i," / ").concat(r),"\xb0C"))}a(27);var p=function(e){return["South","Southwest","West","Northwest","North","Northeast","East","Southeast"][Math.round(e/45)]};function f(e){var t=e.weatherData,a=t.name,n=t.main,r=t.wind,i=t.sys,l=t.weather,m=Math.round(n.temp_min),u=Math.round(n.temp_max),f=Math.round((m+u)/2),h=n.humidity,v=r.speed.toFixed(1),E=l[0].icon,g=i.country,w=p(r.deg);return c.a.createElement(o.b,{style:{textDecoration:"none"},className:"weather-element",to:"details/".concat(t.id)},c.a.createElement(s,{location:{city:a,country:g},temperature:f,icon:E}),c.a.createElement(d,{humidity:h,windDirection:w,windSpeed:v,minTemperature:m,maxTemperature:u}))}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}f.defaultProps={weatherData:{name:""}};var E=c.a.createElement("path",{d:"m256 0c-141.164062 0-256 114.835938-256 256s114.835938 256 256 256 256-114.835938 256-256-114.835938-256-256-256zm0 0",fill:"#2196f3"}),g=c.a.createElement("path",{d:"m368 277.332031h-90.667969v90.667969c0 11.777344-9.554687 21.332031-21.332031 21.332031s-21.332031-9.554687-21.332031-21.332031v-90.667969h-90.667969c-11.777344 0-21.332031-9.554687-21.332031-21.332031s9.554687-21.332031 21.332031-21.332031h90.667969v-90.667969c0-11.777344 9.554687-21.332031 21.332031-21.332031s21.332031 9.554687 21.332031 21.332031v90.667969h90.667969c11.777344 0 21.332031 9.554687 21.332031 21.332031s-9.554687 21.332031-21.332031 21.332031zm0 0",fill:"#fafafa"}),w=function(e){var t=e.svgRef,a=e.title,n=v(e,["svgRef","title"]);return c.a.createElement("svg",h({height:"50px",viewBox:"0 0 512 512",width:"50px",ref:t},n),a?c.a.createElement("title",null,a):null,E,g)},y=c.a.forwardRef((function(e,t){return c.a.createElement(w,h({svgRef:t},e))}));a.p,a(33);function b(e){var t=e.onClick;return c.a.createElement("div",{className:"add-button",onClick:t},c.a.createElement(y,null))}a(34);function O(e){var t=e.onCityAdd,a=Object(n.useState)(""),r=Object(m.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)({}),u=Object(m.a)(l,2),s=u[0],d=u[1];return Object(n.useEffect)((function(){i&&fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(i,"&appid=").concat(j)).then((function(e){return e.json()})).then((function(e){d(e)}))}),[i]),c.a.createElement("div",{className:"search-form"},c.a.createElement("input",{placeholder:"city",onChange:function(e){return o(e.target.value)},value:i}),s.name&&c.a.createElement("div",{className:"search-click",onClick:function(){return t(s.id)}},c.a.createElement("div",{className:"search-city"},s.name),c.a.createElement("div",{className:"low-text"},"click me to add")))}a(35);var j="aae465fc2af15dcf4b7a36033aae951f";function x(){var e=Object(n.useState)({latitude:"",longitude:""}),t=Object(m.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),o=Object(m.a)(i,2),l=o[0],s=o[1],d=Object(n.useState)({}),p=Object(m.a)(d,2),h=p[0],v=p[1],E=Object(n.useState)(!1),g=Object(m.a)(E,2),w=g[0],y=g[1],x=Object(n.useState)("524901,1486209,6541934,550280,2643743"),N=Object(m.a)(x,2),S=N[0],T=N[1];return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){r({latitude:e.coords.latitude.toFixed(2),longitude:e.coords.longitude.toFixed(2)})}))}),[]),Object(n.useEffect)((function(){a.latitude&&fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.latitude,"&lon=").concat(a.longitude,"&units=metric&appid=").concat(j)).then((function(e){return e.json()})).then((function(e){v(e)})).catch((function(e){return console.log(e)})),fetch("https://api.openweathermap.org/data/2.5/group?id=".concat(S,"&units=metric&appid=").concat(j)).then((function(e){return e.json()})).then((function(e){s(e.list)}))}),[a,S]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"weather-page"},c.a.createElement(u,null),h.name&&c.a.createElement(f,{weatherData:h}),l.map((function(e){return c.a.createElement(f,{weatherData:e})})),w?c.a.createElement(O,{onCityAdd:function(e){T(S+",".concat(e)),y(!w)}}):c.a.createElement(b,{onClick:function(){y(!w)}})))}var N=a(13);a(36);function S(e){var t=e.day,a=e.description,n=e.minTemp,r=e.maxTemp,i=e.icon;return console.log(i,"img"),c.a.createElement("div",{className:"weather-day"},c.a.createElement("div",{class:"left-block"},c.a.createElement("img",{className:"weather-icon",src:"https://openweathermap.org/img/wn/".concat(i,"@2x.png"),alt:"icon"}),c.a.createElement("div",null,"".concat(t,"  ").concat(a))),c.a.createElement("div",null,"".concat(n," / ").concat(r)))}a(37);var T=function(e){var t=new Date(Date.parse(e));return D[t.getDay()]},D={0:"Sun",1:"Mon",2:"Tues",3:"Wed",4:"Thrs",5:"Fri",6:"Sat"},M=function(e){for(var t=[e[0]],a=1,n=((new Date).getDay()+1)%7,c=0;n!==new Date(Date.parse(e[a].dt_txt)).getDay()&&(a+=1,!(++c>=20)););console.log(a);var r=e.slice(a).filter((function(e){return"15"===e.dt_txt.slice(11,13)}));return t=[].concat(Object(N.a)(t),Object(N.a)(r))};function k(e){var t=e.match,a=Object(n.useState)({}),r=Object(m.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)([]),u=Object(m.a)(l,2),s=u[0],d=u[1];Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/forecast?id=".concat(t.params.cityId,"&units=metric&appid=").concat(j)).then((function(e){return e.json()})).then((function(e){var t=M(e.list);e.list=t,o(e);var a=["Today","Tomorrow",T(e.list[2].dt_txt)];d(e.list.slice(0,3).map((function(e,t){return{description:e.weather[0].description,minTemp:Math.round(e.main.temp_min),maxTemp:Math.round(e.main.temp_max),day:a[t],icon:e.weather[0].icon}})))})).catch((function(e){return console.log(e)}))}),[t.params.cityId]);var p=i.city?i.city.name:"",f=!!i.list&&i.list[0],h=f.main,v=f.weather,E=h?Math.round(h.temp_min):0,g=h?Math.round(h.temp_max):0,w=Math.round((E+g)/2),y=h?v[0].description:"";return c.a.createElement("div",{className:"detail-page"},c.a.createElement("div",{className:"title"},p),c.a.createElement("div",{className:"detail-weather"},c.a.createElement("div",{className:"temperature"},w,c.a.createElement("div",{className:"celsius"},"\xb0C")),c.a.createElement("div",{className:"description"},y)),c.a.createElement("div",{className:"three-days"},s.map((function(e){var t=e.day,a=e.description,n=e.minTemp,r=e.maxTemp,i=e.icon;return c.a.createElement(S,{day:t,description:a,minTemp:n,maxTemp:r,icon:i})}))))}a(38);i.a.render(c.a.createElement((function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(o.a,{basename:"/2019-2-Atom-Frontend-A-Gordeev"},c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/",exact:!0},c.a.createElement(x,null)),c.a.createElement(l.a,{path:"/details/:cityId",render:function(e){return c.a.createElement(k,e)}}))))}),null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.c1cca3e7.chunk.js.map